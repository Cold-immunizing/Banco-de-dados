create database Immuncold;
use Immuncold;

create table empresa (
id_empresa int primary key auto_increment,
nome varchar(50) not null,
representante varchar(50) not null,
cnpj varchar(25) not null,
cep varchar(50) not null,
endereco varchar(150),
telefone varchar(14),
email varchar(100),
senha varchar(10));

create table localidade (
id_localidade int not null primary key auto_increment,
tipo varchar(13), 
check (tipo = 'Transporte' or tipo = 'Armazenamento'),
identificador varchar(25));

create table sensor (
id_sensor int not null primary key auto_increment,
fk_empresa int,
foreign key (fk_empresa)
references empresa(id_empresa),
fk_localidade int,
foreign key (fk_localidade)
references localidade(id_localidade));

create table parametro (
id_parametro int primary key,
nome_vacina varchar(50),
temp_max int,
temp_min int);

create table registro (
id_registro int not null primary key auto_increment,
registro decimal,
data_horario datetime default current_timestamp,
fk_sensor int,
foreign key (fk_sensor)
references sensor(id_sensor),
fk_parametro int,
foreign key (fk_parametro)
references parametro(id_parametro));
